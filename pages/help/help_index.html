<div class="container help-container">
    <div class="help-header">
        <h1>üìñ –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é</h1>
        <p>–†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è LingoMojo Bot</p>
    </div>

    <!-- –ù–∞–≤–∏–≥–∞—Ü–∏–æ–Ω–Ω–æ–µ –º–µ–Ω—é -->
    <div class="help-nav">
        <button class="nav-btn active" data-section="menu" onclick="loadHelpSection('menu')">–ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é</button>
        <button class="nav-btn" data-section="daily" onclick="loadHelpSection('daily')">–ï–∂–µ–¥–Ω–µ–≤–Ω—ã–µ –∑–∞–¥–∞–Ω–∏—è</button>
        <button class="nav-btn" data-section="news" onclick="loadHelpSection('news')">–ß—Ç–µ–Ω–∏–µ —Å—Ç–∞—Ç–µ–π</button>
    </div>

    <!-- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ —Ä–∞–∑–¥–µ–ª–æ–≤ -->
    <div id="help-content">
        <div class="loading">–ó–∞–≥—Ä—É–∑–∫–∞ —Ä–∞–∑–¥–µ–ª–∞...</div>
    </div>

    <!-- –ö–Ω–æ–ø–∫–∞ –≤–æ–∑–≤—Ä–∞—Ç–∞ –≤ –º–µ–Ω—é –±–æ—Ç–∞ -->
    <div class="help-footer">
        <button class="btn-primary" onclick="closeHelp()">
            –ó–∞–∫—Ä—ã—Ç—å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é
        </button>
    </div>
</div>

<style>
/* –°–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ —Å—Ç–∏–ª–∏ –¥–ª—è —Å—Ç—Ä–∞–Ω–∏—Ü—ã help */
.help-container {
    max-width: 800px;
    margin: 0 auto;
}

.help-header {
    text-align: center;
    margin-bottom: 30px;
    padding: 24px;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    border-radius: 16px;
    color: white;
}

.help-header h1 {
    font-size: 28px;
    font-weight: 700;
    margin-bottom: 8px;
    color: white;
}

.help-header p {
    font-size: 16px;
    opacity: 0.9;
    color: white;
}

/* –ù–∞–≤–∏–≥–∞—Ü–∏–æ–Ω–Ω–æ–µ –º–µ–Ω—é */
.help-nav {
    display: flex;
    gap: 8px;
    margin-bottom: 24px;
    overflow-x: auto;
    padding-bottom: 8px;
}

.nav-btn {
    flex: 1;
    min-width: 120px;
    padding: 12px 16px;
    background: var(--tg-theme-secondary-bg-color, #f8f9fa);
    border: 2px solid var(--tg-theme-section-separator-color, #e5e5e5);
    border-radius: 8px;
    font-size: 14px;
    font-weight: 500;
    cursor: pointer;
    transition: all 0.2s;
    white-space: nowrap;
    color: var(--tg-theme-text-color, #000000);
}

.nav-btn:hover {
    background: var(--tg-theme-section-bg-color, #e8e8e8);
}

.nav-btn.active {
    background: var(--tg-theme-button-color, #3390ec);
    color: var(--tg-theme-button-text-color, #ffffff);
    border-color: var(--tg-theme-button-color, #3390ec);
}

/* –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –∫–æ–Ω—Ç–µ–Ω—Ç–∞ */
#help-content {
    min-height: 400px;
}

/* –§—É—Ç–µ—Ä */
.help-footer {
    margin-top: 32px;
    padding-top: 24px;
    border-top: 1px solid var(--tg-theme-section-separator-color, #e5e5e5);
}

/* –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å */
@media (max-width: 600px) {
    .help-header h1 {
        font-size: 22px;
    }
    
    .nav-btn {
        font-size: 13px;
        padding: 10px 12px;
    }
}
</style>

<script>
// –ì–ª–æ–±–∞–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
let currentSection = 'menu';

async function loadHelpSection(section) {
    console.log('Loading section:', section);
    currentSection = section;
    
    // –û–±–Ω–æ–≤–ª—è–µ–º –∞–∫—Ç–∏–≤–Ω—É—é –∫–Ω–æ–ø–∫—É
    document.querySelectorAll('.nav-btn').forEach(btn => {
        btn.classList.remove('active');
        if (btn.getAttribute('data-section') === section) {
            btn.classList.add('active');
        }
    });
    
    // –ó–∞–≥—Ä—É–∂–∞–µ–º –∫–æ–Ω—Ç–µ–Ω—Ç —Ä–∞–∑–¥–µ–ª–∞
    const contentDiv = document.getElementById('help-content');
    contentDiv.innerHTML = '<div class="loading">–ó–∞–≥—Ä—É–∑–∫–∞ —Ä–∞–∑–¥–µ–ª–∞...</div>';
    
    try {
        const response = await fetch(`pages/help/help_${section}.html`);
        if (!response.ok) {
            throw new Error(`HTTP error! status: ${response.status}`);
        }
        const html = await response.text();
        contentDiv.innerHTML = html;
        
        // –ü—Ä–æ–∫—Ä—É—á–∏–≤–∞–µ–º –Ω–∞–≤–µ—Ä—Ö
        window.scrollTo({ top: 0, behavior: 'smooth' });
    } catch (error) {
        console.error('Error loading section:', error);
        contentDiv.innerHTML = `
            <div class="help-card">
                <h3>–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏</h3>
                <p>–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å —Ä–∞–∑–¥–µ–ª "${section}". –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â–µ —Ä–∞–∑.</p>
            </div>
        `;
    }
}

function closeHelp() {
    if (window.tg) {
        tg.close();
    } else {
        window.close();
    }
}

// –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ–º —Ñ—É–Ω–∫—Ü–∏–∏
window.loadHelpSection = loadHelpSection;
window.closeHelp = closeHelp;

// –ó–∞–≥—Ä—É–∂–∞–µ–º –ø–µ—Ä–≤—ã–π —Ä–∞–∑–¥–µ–ª –ø—Ä–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏
setTimeout(() => {
    loadHelpSection('menu');
}, 100);
</script>
