<div class="grammar-container">
    <div class="grammar-header">
        <h1>Sentence Structure Basics</h1>
        <p class="subtitle">Subject-Predicate-Object (SPO)</p>
        <div class="module-info">
            <span class="badge">A1 Level</span>
            <span class="badge">Block 1 of 7</span>
        </div>
    </div>

    <div class="grammar-section">
        <h2>Что такое Subject-Predicate-Object?</h2>
        
        <p class="intro-text">SPO — это базовая структура английского предложения, где порядок слов <strong>строго определен</strong>.</p>

        <div class="grammar-card">
            <h3>Три основных элемента:</h3>
            
            <div class="element-box subject-box">
                <h4><span class="element-label">Subject</span> / Подлежащее</h4>
                <p class="element-question">КТО? или ЧТО?</p>
                <p>Тот, кто выполняет действие.</p>
                
                <div class="types-list">
                    <strong>Типы подлежащих:</strong>
                    <ul>
                        <li><strong>Личные местоимения:</strong> I, you, he, she, it, we, they</li>
                        <li><strong>Имена собственные:</strong> John, Maria, Tom, London</li>
                        <li><strong>Существительные с артиклями:</strong> the cat, a dog, my sister</li>
                        <li><strong>Указательные местоимения:</strong> this, that, these, those</li>
                    </ul>
                </div>

                <div class="examples">
                    <strong>Примеры:</strong>
                    <ul>
                        <li><span class="highlight-subject">I</span> work every day.</li>
                        <li><span class="highlight-subject">She</span> speaks English.</li>
                        <li><span class="highlight-subject">The cat</span> sleeps.</li>
                        <li><span class="highlight-subject">My brother</span> lives in London.</li>
                    </ul>
                </div>
            </div>

            <div class="element-box predicate-box">
                <h4><span class="element-label">Predicate</span> / Сказуемое</h4>
                <p class="element-question">ЧТО ДЕЛАЕТ?</p>
                <p>Действие или состояние.</p>
                
                <div class="types-list">
                    <strong>Типы сказуемых:</strong>
                    <ul>
                        <li><strong>Глаголы действия:</strong>
                            <ul class="nested">
                                <li>Физические: eat, run, play, write, read</li>
                                <li>Ментальные: think, know, understand</li>
                            </ul>
                        </li>
                        <li><strong>Глаголы состояния:</strong>
                            <ul class="nested">
                                <li>Чувства: like, love, hate, want</li>
                                <li>Бытие: be (am/is/are), seem, appear</li>
                            </ul>
                        </li>
                    </ul>
                </div>

                <div class="examples">
                    <strong>Примеры:</strong>
                    <ul>
                        <li>I <span class="highlight-predicate">eat</span> breakfast.</li>
                        <li>She <span class="highlight-predicate">knows</span> the answer.</li>
                        <li>They <span class="highlight-predicate">have</span> a car.</li>
                        <li>We <span class="highlight-predicate">are</span> students.</li>
                    </ul>
                </div>
            </div>

            <div class="element-box object-box">
                <h4><span class="element-label">Object</span> / Дополнение</h4>
                <p class="element-question">ЧТО? или КОГО?</p>
                <p>На что/кого направлено действие.</p>
                
                <div class="types-list">
                    <strong>Типы дополнений:</strong>
                    <ul>
                        <li><strong>Предметы:</strong> a book, coffee, music, the house</li>
                        <li><strong>Людей:</strong> my friend, the teacher, John</li>
                        <li><strong>Местоимения:</strong> him, her, it, them, me</li>
                        <li><strong>Абстрактные понятия:</strong> love, happiness, information</li>
                    </ul>
                </div>

                <div class="examples">
                    <strong>Примеры:</strong>
                    <ul>
                        <li>I eat <span class="highlight-object">apples</span>.</li>
                        <li>She reads <span class="highlight-object">books</span>.</li>
                        <li>They play <span class="highlight-object">football</span>.</li>
                        <li>We love <span class="highlight-object">music</span>.</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <div class="grammar-section">
        <h2>Правило 1: Строгий порядок слов</h2>
        
        <p class="intro-text">В английском языке порядок слов <strong>фиксированный</strong> и определяет смысл предложения.</p>

        <div class="formula-box">
            <div class="formula">
                <span class="formula-part subject">Subject</span>
                <span class="formula-arrow">→</span>
                <span class="formula-part predicate">Predicate</span>
                <span class="formula-arrow">→</span>
                <span class="formula-part object">Object</span>
            </div>
            <div class="formula-translation">
                <span>КТО</span>
                <span></span>
                <span>ДЕЛАЕТ</span>
                <span></span>
                <span>ЧТО</span>
            </div>
        </div>

        <div class="grammar-card">
            <h3>Правильные примеры:</h3>
            <div class="example-sentence">
                <span class="highlight-subject">I</span>
                <span class="highlight-predicate">eat</span>
                <span class="highlight-object">apples</span>.
                <span class="translation">— Я ем яблоки.</span>
            </div>
            <div class="example-sentence">
                <span class="highlight-subject">She</span>
                <span class="highlight-predicate">reads</span>
                <span class="highlight-object">books</span>.
                <span class="translation">— Она читает книги.</span>
            </div>
            <div class="example-sentence">
                <span class="highlight-subject">They</span>
                <span class="highlight-predicate">play</span>
                <span class="highlight-object">football</span>.
                <span class="translation">— Они играют в футбол.</span>
            </div>
            <div class="example-sentence">
                <span class="highlight-subject">The dog</span>
                <span class="highlight-predicate">chases</span>
                <span class="highlight-object">cats</span>.
                <span class="translation">— Собака гоняется за кошками.</span>
            </div>
        </div>

        <div class="grammar-card error-card">
            <h3>Неправильные примеры:</h3>
            <div class="error-example">
                <span class="wrong">✗</span>
                <span class="error-text">Eat I apples.</span>
                <span class="error-reason">неправильный порядок</span>
            </div>
            <div class="error-example">
                <span class="wrong">✗</span>
                <span class="error-text">Books reads she.</span>
                <span class="error-reason">неправильный порядок</span>
            </div>
            <div class="error-example">
                <span class="wrong">✗</span>
                <span class="error-text">Football play they.</span>
                <span class="error-reason">неправильный порядок</span>
            </div>
        </div>

        <div class="important-box">
            <strong>Важно!</strong> В английском порядок слов строго определяет смысл. Например:
            <div class="comparison-examples">
                <div class="comparison-item">
                    <strong>The cat chased the dog.</strong>
                    <span>Кошка гналась за собакой</span>
                </div>
                <div class="comparison-item">
                    <strong>The dog chased the cat.</strong>
                    <span>Собака гналась за кошкой</span>
                </div>
            </div>
            <p class="conclusion">Меняем порядок → меняется смысл!</p>
        </div>
    </div>

    <div class="grammar-footer">
        <button class="btn-primary" onclick="safeClose()">
            Закрыть
        </button>
    </div>
</div>

<style>
.grammar-container {
    max-width: 800px;
    margin: 0 auto;
    padding: 20px;
}

.grammar-header {
    text-align: center;
    margin-bottom: 32px;
    padding: 24px;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    border-radius: 16px;
    color: white;
}

.grammar-header h1 {
    font-size: 26px;
    font-weight: 700;
    margin-bottom: 8px;
    color: white;
}

.subtitle {
    font-size: 18px;
    opacity: 0.95;
    margin-bottom: 16px;
    color: white;
}

.module-info {
    display: flex;
    justify-content: center;
    gap: 12px;
    margin-top: 16px;
}

.badge {
    background: rgba(255, 255, 255, 0.2);
    padding: 6px 14px;
    border-radius: 20px;
    font-size: 13px;
    font-weight: 600;
    backdrop-filter: blur(10px);
}

.grammar-section {
    margin-bottom: 32px;
}

.grammar-section h2 {
    font-size: 22px;
    font-weight: 700;
    margin-bottom: 16px;
    color: var(--tg-theme-text-color, #000000);
    padding-bottom: 10px;
    border-bottom: 3px solid #667eea;
}

.intro-text {
    font-size: 16px;
    line-height: 1.6;
    margin-bottom: 20px;
    color: var(--tg-theme-text-color, #000000);
}

.grammar-card {
    background: var(--tg-theme-secondary-bg-color, #f8f9fa);
    border-radius: 12px;
    padding: 20px;
    margin-bottom: 20px;
    border: 1px solid var(--tg-theme-section-separator-color, #e5e5e5);
}

.grammar-card h3 {
    font-size: 18px;
    font-weight: 600;
    margin-bottom: 16px;
    color: var(--tg-theme-text-color, #000000);
}

/* Блоки элементов */
.element-box {
    background: white;
    border-radius: 12px;
    padding: 20px;
    margin-bottom: 20px;
    border-left: 5px solid;
}

.subject-box {
    border-left-color: #3b82f6;
}

.predicate-box {
    border-left-color: #10b981;
}

.object-box {
    border-left-color: #f59e0b;
}

.element-box h4 {
    font-size: 18px;
    font-weight: 600;
    margin-bottom: 8px;
    color: var(--tg-theme-text-color, #000000);
}

.element-label {
    font-weight: 700;
    font-size: 19px;
}

.element-question {
    font-size: 15px;
    font-weight: 600;
    color: #6b7280;
    margin-bottom: 8px;
}

.types-list {
    margin: 16px 0;
}

.types-list strong {
    display: block;
    margin-bottom: 8px;
    color: var(--tg-theme-text-color, #000000);
}

.types-list ul {
    margin: 8px 0 0 20px;
    line-height: 1.8;
}

.types-list ul.nested {
    margin-top: 4px;
    margin-left: 20px;
}

.examples {
    background: #f9fafb;
    padding: 12px;
    border-radius: 8px;
    margin-top: 12px;
}

.examples strong {
    display: block;
    margin-bottom: 8px;
    color: var(--tg-theme-text-color, #000000);
}

.examples ul {
    margin: 0 0 0 20px;
    line-height: 1.8;
}

/* Цветовые выделения */
.highlight-subject {
    background: #dbeafe;
    color: #1e40af;
    padding: 2px 6px;
    border-radius: 4px;
    font-weight: 600;
}

.highlight-predicate {
    background: #d1fae5;
    color: #065f46;
    padding: 2px 6px;
    border-radius: 4px;
    font-weight: 600;
}

.highlight-object {
    background: #fef3c7;
    color: #92400e;
    padding: 2px 6px;
    border-radius: 4px;
    font-weight: 600;
}

/* Формула */
.formula-box {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    border-radius: 12px;
    padding: 24px;
    margin: 24px 0;
    color: white;
}

.formula {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 16px;
    margin-bottom: 12px;
    flex-wrap: wrap;
}

.formula-part {
    padding: 12px 20px;
    border-radius: 8px;
    font-weight: 700;
    font-size: 16px;
    min-width: 100px;
    text-align: center;
}

.formula-part.subject {
    background: #3b82f6;
}

.formula-part.predicate {
    background: #10b981;
}

.formula-part.object {
    background: #f59e0b;
}

.formula-arrow {
    font-size: 24px;
    font-weight: 700;
}

.formula-translation {
    display: flex;
    justify-content: center;
    gap: 16px;
    font-size: 14px;
    opacity: 0.9;
}

.formula-translation span {
    min-width: 100px;
    text-align: center;
}

/* Примеры предложений */
.example-sentence {
    background: white;
    padding: 16px;
    border-radius: 8px;
    margin-bottom: 12px;
    font-size: 16px;
    line-height: 1.6;
    border-left: 4px solid #10b981;
}

.example-sentence .translation {
    display: block;
    margin-top: 8px;
    color: #6b7280;
    font-size: 14px;
    font-style: italic;
}

/* Ошибки */
.error-card {
    background: #fff1f2;
    border: 1px solid #fecdd3;
}

.error-example {
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 12px;
    background: white;
    border-radius: 8px;
    margin-bottom: 10px;
}

.wrong {
    color: #dc2626;
    font-size: 20px;
    font-weight: 700;
}

.error-text {
    flex: 1;
    font-size: 15px;
    font-weight: 500;
    text-decoration: line-through;
    color: #dc2626;
}

.error-reason {
    font-size: 13px;
    color: #6b7280;
    font-style: italic;
}

/* Важные блоки */
.important-box {
    background: #fef3c7;
    border-left: 5px solid #f59e0b;
    padding: 20px;
    border-radius: 8px;
    margin: 20px 0;
}

.important-box strong {
    display: block;
    margin-bottom: 12px;
    color: #92400e;
    font-size: 16px;
}

.comparison-examples {
    margin: 16px 0;
}

.comparison-item {
    background: white;
    padding: 12px;
    border-radius: 6px;
    margin-bottom: 10px;
}

.comparison-item strong {
    display: block;
    margin-bottom: 4px;
    color: #000;
    font-size: 15px;
}

.comparison-item span {
    color: #6b7280;
    font-size: 14px;
}

.conclusion {
    margin-top: 12px;
    font-weight: 600;
    color: #92400e;
}

/* Футер */
.grammar-footer {
    margin-top: 32px;
    padding-top: 24px;
    border-top: 1px solid var(--tg-theme-section-separator-color, #e5e5e5);
    text-align: center;
}

/* Адаптивность */
@media (max-width: 600px) {
    .grammar-container {
        padding: 16px;
    }
    
    .grammar-header {
        padding: 20px;
    }
    
    .grammar-header h1 {
        font-size: 22px;
    }
    
    .subtitle {
        font-size: 16px;
    }
    
    .grammar-section h2 {
        font-size: 20px;
    }
    
    .element-box {
        padding: 16px;
    }
    
    .formula {
        flex-direction: column;
        gap: 8px;
    }
    
    .formula-arrow {
        transform: rotate(90deg);
    }
    
    .formula-translation {
        flex-direction: column;
        gap: 8px;
    }
}
</style>
